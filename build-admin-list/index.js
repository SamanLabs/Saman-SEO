(()=>{"use strict";const e=window.React,t=window.wp.element,s=({score:t,level:s,label:a,issues:o,flags:l})=>{const n=()=>"good"===s?"wpseopilot-badge--good":"fair"===s?"wpseopilot-badge--fair":"wpseopilot-badge--poor",r=2*Math.PI*18,i=r-t/100*r;return(0,e.createElement)("div",{className:"wpseopilot-list-badge"},(0,e.createElement)("div",{className:`wpseopilot-badge-ring ${n()}`},(0,e.createElement)("svg",{width:"44",height:"44",viewBox:"0 0 44 44"},(0,e.createElement)("circle",{cx:"22",cy:"22",r:18,fill:"none",stroke:"#e5e7eb",strokeWidth:"4"}),(0,e.createElement)("circle",{cx:"22",cy:"22",r:18,fill:"none",stroke:t>=70?"#22c55e":t>=40?"#eab308":"#ef4444",strokeWidth:"4",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 22 22)",style:{transition:"stroke-dashoffset 0.3s ease"}})),(0,e.createElement)("span",{className:"wpseopilot-badge-score"},t)),(0,e.createElement)("div",{className:"wpseopilot-badge-info"},(0,e.createElement)("span",{className:`wpseopilot-badge-label ${n()}`},a),o&&o.length>0&&(0,e.createElement)("span",{className:"wpseopilot-badge-issues"},o.slice(0,2).join(" â€¢ "),o.length>2&&" +"+(o.length-2)),l&&l.length>0&&(0,e.createElement)("span",{className:"wpseopilot-badge-flags"},l.join(", "))))},a=()=>{document.querySelectorAll(".wpseopilot-badge-placeholder").forEach(a=>{const o=a.dataset,l={score:parseInt(o.score,10)||0,level:o.level||"poor",label:o.label||"",issues:o.issues?JSON.parse(o.issues):[],flags:o.flags?JSON.parse(o.flags):[]};(0,t.createRoot)(a).render((0,e.createElement)(s,{...l})),a.classList.add("wpseopilot-badge-initialized")})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a(),"undefined"!=typeof jQuery&&jQuery(document).on("ajaxComplete",(e,t,s)=>{s.data&&s.data.includes("action=fetch-list")&&setTimeout(a,100)})})();